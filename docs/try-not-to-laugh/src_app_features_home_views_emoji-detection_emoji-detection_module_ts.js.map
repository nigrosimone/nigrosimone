{"version":3,"file":"src_app_features_home_views_emoji-detection_emoji-detection_module_ts.js","mappings":"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","sources":["./src/app/features/home/views/emoji-detection/emoji-detection-routing.module.ts","./src/app/features/home/views/emoji-detection/emoji-detection.component.ts","./src/app/features/home/views/emoji-detection/emoji-detection.component.html","./src/app/features/home/views/emoji-detection/emoji-detection.module.ts","./src/app/shared/components/emoji/emoji.component.ts","./src/app/shared/components/emoji/emoji.component.html","./src/app/shared/components/emoji/emoji.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { EmojiDetectionComponent } from './emoji-detection.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EmojiDetectionComponent\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class EmojiDetectionRoutingModule { }\n","import { ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport * as faceapi from 'face-api.js';\r\nimport { Subscription } from 'rxjs';\r\nimport { WindowService } from 'src/app/core/services/window/windos.service';\r\nimport { CameraDetectionComponent } from 'src/app/shared/components/camera-detection/camera-detection.component';\r\nimport { Emoji } from 'src/app/shared/components/emoji/emoji.component';\r\nimport { safeUnsubscribe } from 'src/app/shared/utils/common';\r\n\r\ninterface Expression {\r\n  expression: keyof faceapi.FaceExpressions;\r\n  value: number;\r\n}\r\n\r\nconst EXPRESSIONS: Array<Expression> = [\r\n  { expression: 'neutral', value: 0 },\r\n  { expression: 'happy', value: 0 },\r\n  { expression: 'sad', value: 0 },\r\n  { expression: 'angry', value: 0 },\r\n  { expression: 'fearful', value: 0 },\r\n  { expression: 'disgusted', value: 0 },\r\n  { expression: 'surprised', value: 0 }\r\n];\r\n@Component({\r\n  selector: 'app-emoji-detection',\r\n  templateUrl: './emoji-detection.component.html',\r\n  styleUrls: ['./emoji-detection.component.scss']\r\n})\r\nexport class EmojiDetectionComponent implements OnInit, OnDestroy {\r\n\r\n  @ViewChild('cameraDetection', { static: false }) cameraDetection: CameraDetectionComponent;\r\n\r\n  // emoji abilitate\r\n  public emojiEnabled: Emoji = {\r\n    like: false,\r\n    love: false,\r\n    haha: true,\r\n    yay: false,\r\n    wow: true,\r\n    sad: true,\r\n    angry: true\r\n  };\r\n  // emoji predominante\r\n  public emojiHighlight: keyof Emoji;\r\n\r\n  // true se l'espressione facciale è stata trovata nella webcam\r\n  public faceDetected = false;\r\n  // se true l'espressione facciale è stata trovata almeno una volta\r\n  public firstDetectionHappen = false;\r\n  // se true il riconoscimento facciale è pronto\r\n  public detectionReady = false;\r\n\r\n  // se true youtube e il riconoscimento facciale sono pronti\r\n  public allReady = false;\r\n\r\n  // true se la partita può iniziare\r\n  public readyToGame = false;\r\n\r\n  // dimensioni dell'area di gioco\r\n  public width = 0;\r\n  public height = 0;\r\n\r\n  private subVwChanges: Subscription;\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private windowService: WindowService,\r\n    private elRef: ElementRef) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subVwChanges = this.windowService.viewPortChanges.subscribe(() => {\r\n      this.doResize();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    safeUnsubscribe(this.subVwChanges);\r\n  }\r\n\r\n  /**\r\n   * Evento di caricamento completato del riconoscimento facciale\r\n   */\r\n  onDetectionReady(e: boolean): void {\r\n    this.detectionReady = true;\r\n    this.doThirdPartyOnReady();\r\n  }\r\n\r\n  /**\r\n   * Evento scatenato al primo riconoscimento facciale\r\n   */\r\n  onFirstDetection(e: boolean): void {\r\n    this.firstDetectionHappen = e;\r\n  }\r\n\r\n  /**\r\n   * Evento ad ogni cambiamento di stato (trovata/non trovata la faccia)\r\n   */\r\n  onDetectionFace(e: boolean): void {\r\n    this.faceDetected = e;\r\n  }\r\n\r\n  /**\r\n   * Quando il player youtube o il riconoscimento sono ready, gestiamo le parti comuni\r\n   */\r\n  doThirdPartyOnReady(): void {\r\n    this.allReady = this.detectionReady;\r\n    this.doResize();\r\n  }\r\n\r\n  /**\r\n   * Evento di cambiamento del riconoscimento facciale\r\n   */\r\n  onDetectionChanges(e: faceapi.FaceExpressions): void {\r\n\r\n    // ridimensioniamo l'area di gioco\r\n    this.doResize();\r\n\r\n    // faccia trovata?\r\n    if (e) {\r\n      // recuperiamo l'espressione prefominante\r\n      let foundExpression: Expression = null;\r\n      for (const ex of EXPRESSIONS) {\r\n        const value: number = e[ex.expression] as number;\r\n        if (foundExpression) {\r\n          if (value > foundExpression.value) {\r\n            foundExpression = {expression: ex.expression, value};\r\n          }\r\n        } else {\r\n          if (value > 0) {\r\n            foundExpression = {expression: ex.expression, value};\r\n          }\r\n        }\r\n      }\r\n\r\n      if (foundExpression) {\r\n        switch (foundExpression.expression) {\r\n          case 'angry':\r\n            this.emojiHighlight = 'angry';\r\n            break;\r\n          case 'happy':\r\n            this.emojiHighlight = 'haha';\r\n            break;\r\n          case 'sad':\r\n            this.emojiHighlight = 'sad';\r\n            break;\r\n          case 'surprised':\r\n            this.emojiHighlight = 'wow';\r\n            break;\r\n          default:\r\n            this.emojiHighlight = null;\r\n            break;\r\n        }\r\n      }\r\n\r\n      this.manageReadyToGameState();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gestisce lo stato della partita (se è pronta per essere giocata o meno)\r\n   */\r\n  manageReadyToGameState(): void {\r\n    // può essere giocata se non è terminata e se abbiamo trovato la faccia\r\n    const readyToGame = this.faceDetected;\r\n    if (this.readyToGame !== readyToGame) {\r\n      this.readyToGame = readyToGame;\r\n      this.cdr.markForCheck();\r\n    }\r\n  }\r\n\r\n  doResize(): void {\r\n    // -1 altrimenti esce la scrollbar\r\n    const w = this.elRef.nativeElement.clientWidth - 1;\r\n    const h = this.elRef.nativeElement.clientHeight - 1;\r\n\r\n    if (w !== this.width || h !== this.height) {\r\n      this.width = w;\r\n      this.height = h;\r\n      this.cdr.markForCheck();\r\n    }\r\n  }\r\n}\r\n","<div class=\"game-container\" [style.width]=\"width + 'px'\" [style.height]=\"height + 'px'\">\r\n    <div class=\"info\">\r\n        <h1 *ngIf=\"detectionReady && !faceDetected\">Non riesco a vedere la tua faccia!</h1>\r\n    </div>\r\n    <div class=\"webcam\">\r\n        <app-camera-detection [width]=\"width\" [height]=\"height\" [drawDetection]=\"true\" [detectionTimer]=\"100\" (detectionReady)=\"onDetectionReady($event)\" (detectionChanges)=\"onDetectionChanges($event)\" (firstDetection)=\"onFirstDetection($event)\" (detectionFace)=\"onDetectionFace($event)\" #cameraDetection></app-camera-detection>\r\n        <app-emoji class=\"emoji\" [emojiEnabled]=\"emojiEnabled\" [emojiHighlight]=\"emojiHighlight\" *ngIf=\"detectionReady && faceDetected\"></app-emoji>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EmojiDetectionComponent } from './emoji-detection.component';\nimport { EmojiDetectionRoutingModule } from './emoji-detection-routing.module';\nimport { HumanizeTimeModule } from 'src/app/shared/pipe/humanize-time/humanize-time.module';\nimport { CameraDetectionModule } from 'src/app/shared/components/camera-detection/camera-detection.module';\nimport { EmojiModule } from 'src/app/shared/components/emoji/emoji.module';\n\n@NgModule({\n  declarations: [EmojiDetectionComponent],\n  imports: [\n    CommonModule,\n    EmojiDetectionRoutingModule,\n    HumanizeTimeModule,\n    CameraDetectionModule,\n    EmojiModule\n  ],\n  exports: [\n    EmojiDetectionComponent\n  ]\n})\nexport class EmojiDetectionModule { }\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\n\r\nexport interface Emoji {\r\n  like: boolean;\r\n  love: boolean;\r\n  haha: boolean;\r\n  yay: boolean;\r\n  wow: boolean;\r\n  sad: boolean;\r\n  angry: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-emoji',\r\n  templateUrl: './emoji.component.html',\r\n  styleUrls: ['./emoji.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class EmojiComponent {\r\n\r\n  @Input() emojiEnabled: Emoji = null;\r\n  @Input() emojiHighlight: keyof Emoji = null;\r\n}\r\n","<div class=\"emoji emoji--like\" *ngIf=\"emojiEnabled?.like\" [class.highlight]=\"emojiHighlight === 'like'\">\r\n    <div class=\"emoji__hand\">\r\n        <div class=\"emoji__thumb\"></div>\r\n    </div>\r\n</div>\r\n<div class=\"emoji emoji--love\" *ngIf=\"emojiEnabled?.love\" [class.highlight]=\"emojiHighlight === 'love'\">\r\n    <div class=\"emoji__heart\"></div>\r\n</div>\r\n<div class=\"emoji emoji--haha\" *ngIf=\"emojiEnabled?.haha\" [class.highlight]=\"emojiHighlight === 'haha'\">\r\n    <div class=\"emoji__face\">\r\n        <div class=\"emoji__eyes\"></div>\r\n        <div class=\"emoji__mouth\">\r\n            <div class=\"emoji__tongue\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"emoji emoji--yay\" *ngIf=\"emojiEnabled?.yay\" [class.highlight]=\"emojiHighlight === 'yay'\">\r\n    <div class=\"emoji__face\">\r\n        <div class=\"emoji__eyebrows\"></div>\r\n        <div class=\"emoji__mouth\"></div>\r\n    </div>\r\n</div>\r\n<div class=\"emoji emoji--wow\" *ngIf=\"emojiEnabled?.wow\" [class.highlight]=\"emojiHighlight === 'wow'\">\r\n    <div class=\"emoji__face\">\r\n        <div class=\"emoji__eyebrows\"></div>\r\n        <div class=\"emoji__eyes\"></div>\r\n        <div class=\"emoji__mouth\"></div>\r\n    </div>\r\n</div>\r\n<div class=\"emoji emoji--sad\" *ngIf=\"emojiEnabled?.sad\" [class.highlight]=\"emojiHighlight === 'sad'\">\r\n    <div class=\"emoji__face\">\r\n        <div class=\"emoji__eyebrows\"></div>\r\n        <div class=\"emoji__eyes\"></div>\r\n        <div class=\"emoji__mouth\"></div>\r\n    </div>\r\n</div>\r\n<div class=\"emoji emoji--angry\" *ngIf=\"emojiEnabled?.angry\" [class.highlight]=\"emojiHighlight === 'angry'\">\r\n    <div class=\"emoji__face\">\r\n        <div class=\"emoji__eyebrows\"></div>\r\n        <div class=\"emoji__eyes\"></div>\r\n        <div class=\"emoji__mouth\"></div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EmojiComponent } from './emoji.component';\n\n\n@NgModule({\n  declarations: [EmojiComponent],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    EmojiComponent\n  ]\n})\nexport class EmojiModule { }\n"],"names":["RouterModule","EmojiDetectionComponent","routes","path","component","EmojiDetectionRoutingModule","forChild","imports","i1","exports","safeUnsubscribe","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵproperty","ctx_r2","emojiEnabled","emojiHighlight","EXPRESSIONS","expression","value","constructor","cdr","windowService","elRef","like","love","haha","yay","wow","sad","angry","faceDetected","firstDetectionHappen","detectionReady","allReady","readyToGame","width","height","ngOnInit","subVwChanges","viewPortChanges","subscribe","doResize","ngOnDestroy","onDetectionReady","e","doThirdPartyOnReady","onFirstDetection","onDetectionFace","onDetectionChanges","foundExpression","ex","manageReadyToGameState","markForCheck","w","nativeElement","clientWidth","h","clientHeight","ɵɵdirectiveInject","ChangeDetectorRef","WindowService","ElementRef","selectors","viewQuery","EmojiDetectionComponent_Query","rf","ctx","ɵɵtemplate","EmojiDetectionComponent_h1_2_Template","ɵɵlistener","EmojiDetectionComponent_Template_app_camera_detection_detectionReady_4_listener","$event","EmojiDetectionComponent_Template_app_camera_detection_detectionChanges_4_listener","EmojiDetectionComponent_Template_app_camera_detection_firstDetection_4_listener","EmojiDetectionComponent_Template_app_camera_detection_detectionFace_4_listener","EmojiDetectionComponent_app_emoji_6_Template","ɵɵstyleProp","ɵɵadvance","CommonModule","HumanizeTimeModule","CameraDetectionModule","EmojiModule","EmojiDetectionModule","declarations","ɵɵclassProp","ctx_r0","ctx_r1","ctx_r3","ctx_r4","ctx_r5","ctx_r6","EmojiComponent","inputs","decls","vars","consts","template","EmojiComponent_Template","EmojiComponent_div_0_Template","EmojiComponent_div_1_Template","EmojiComponent_div_2_Template","EmojiComponent_div_3_Template","EmojiComponent_div_4_Template","EmojiComponent_div_5_Template","EmojiComponent_div_6_Template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}